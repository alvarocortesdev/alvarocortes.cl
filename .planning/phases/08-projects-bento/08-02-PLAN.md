---
phase: 08-projects-bento
plan: 02
type: execute
wave: 2
depends_on: ["08-01"]
files_modified:
  - apps/web/src/components/ProjectModal.tsx
  - apps/web/src/components/ProjectsBento.tsx
autonomous: false

must_haves:
  truths:
    - "Click on project card opens modal"
    - "Modal displays project details (name, full description, tech badges)"
    - "Modal can be closed (click outside, X button, or Escape key)"
    - "Modal has smooth enter/exit animation"
  artifacts:
    - path: "apps/web/src/components/ProjectModal.tsx"
      provides: "Modal component with AnimatePresence"
      min_lines: 40
    - path: "apps/web/src/components/ProjectsBento.tsx"
      provides: "Updated component with modal state and trigger"
      contains: "useState"
  key_links:
    - from: "ProjectsBento.tsx"
      to: "ProjectModal"
      via: "component import"
      pattern: "import.*ProjectModal"
    - from: "ProjectsBento.tsx"
      to: "selectedProject"
      via: "state management"
      pattern: "useState.*Project"
---

<objective>
Add modal functionality to Projects section for viewing project details.

Purpose: Allow users to click project cards and see expanded details in a modal overlay.
Output: Working modal with animations that opens on card click and closes properly.
</objective>

<execution_context>
@./.claude/get-shit-done/workflows/execute-plan.md
@./.claude/get-shit-done/templates/summary.md
@./.claude/get-shit-done/references/checkpoints.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@.planning/phases/08-projects-bento/08-01-SUMMARY.md
@apps/web/src/components/ProjectsBento.tsx
@apps/web/src/data/projects.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create ProjectModal component</name>
  <files>apps/web/src/components/ProjectModal.tsx</files>
  <action>
    Create ProjectModal.tsx component:

    1. Props interface:
       - project: Project | null
       - isOpen: boolean
       - onClose: () => void

    2. Use Framer Motion AnimatePresence:
       - Wrap modal in AnimatePresence with mode="wait"
       - Conditionally render based on isOpen && project

    3. Modal structure:
       - Backdrop: fixed inset-0, bg-black/70, click to close
       - Modal container: centered, max-w-2xl, bg-neutral-800
       - Header: project name, X close button
       - Content: full description, tech badges
       - Optional: links section (liveUrl, repoUrl)

    4. Animations:
       - Backdrop: fade in/out (opacity 0 → 1)
       - Modal: scale + opacity (scale 0.95 → 1, opacity 0 → 1)
       - Exit animations: reverse of enter
       - Duration: ~0.2s

    5. Close methods:
       - Click backdrop (overlay)
       - Click X button
       - Press Escape key (useEffect with keydown listener)

    6. Accessibility:
       - Focus trap not required for v1.1 (future enhancement)
       - Role="dialog" and aria-modal="true"

    Example AnimatePresence pattern:
    ```tsx
    <AnimatePresence>
      {isOpen && project && (
        <>
          <motion.div className="backdrop" onClick={onClose} />
          <motion.div className="modal">
            {/* content */}
          </motion.div>
        </>
      )}
    </AnimatePresence>
    ```
  </action>
  <verify>bun run type-check passes</verify>
  <done>ProjectModal component created with AnimatePresence</done>
</task>

<task type="auto">
  <name>Task 2: Wire modal to ProjectsBento</name>
  <files>apps/web/src/components/ProjectsBento.tsx</files>
  <action>
    Update ProjectsBento to use modal:

    1. Add state for selected project:
       - const [selectedProject, setSelectedProject] = useState<Project | null>(null)

    2. Import ProjectModal component

    3. Update ProjectCard onClick:
       - onClick={() => setSelectedProject(project)}

    4. Add modal to component return:
       - <ProjectModal
           project={selectedProject}
           isOpen={selectedProject !== null}
           onClose={() => setSelectedProject(null)}
         />

    5. Render modal at end of component (sibling to grid, not inside)

    Keep existing grid and card structure intact.
  </action>
  <verify>bun run build succeeds</verify>
  <done>Modal wired to ProjectsBento with state management</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Project modal with animations</what-built>
  <how-to-verify>
    1. Run: cd apps/web && bun run dev
    2. Visit: http://localhost:5173/portfolio
    3. Scroll to Projects section

    Modal open:
    4. Click any project card
    5. Verify: Modal opens with smooth animation
    6. Verify: Backdrop darkens background
    7. Verify: Modal shows project name, description, tech badges

    Modal close:
    8. Click X button - modal closes
    9. Click outside modal (on backdrop) - modal closes
    10. Open modal, press Escape key - modal closes

    Animation quality:
    11. Verify: Entry animation is smooth (scale + fade)
    12. Verify: Exit animation is smooth (reverse)
    13. Verify: No layout shift when modal opens/closes
  </how-to-verify>
  <resume-signal>Type "approved" to continue, or describe issues to fix</resume-signal>
</task>

</tasks>

<verification>
Before declaring plan complete:
- [ ] bun run build succeeds
- [ ] bun run type-check passes
- [ ] Modal opens on card click
- [ ] Modal shows project details
- [ ] Modal closes via X, backdrop, and Escape
- [ ] Animations are smooth
</verification>

<success_criteria>
- All tasks completed
- Modal displays project details correctly
- All three close methods work
- Animations smooth enter/exit
- User approved visual verification
</success_criteria>

<output>
After completion, create `.planning/phases/08-projects-bento/08-02-SUMMARY.md`
</output>
